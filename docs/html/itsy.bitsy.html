<h1 id="ext.bit">Itsy Bitsy - Fundamental Bit Utilities, Ranges and Container Extensions</h1>
<p>A collection of utilities, algorithmic improvements, view adaptors and container adaptors for working with 1-bit objects represented by <code>0</code> ( <code>false</code> ) or <code>1</code> ( <code>true</code> ).</p>
<h1 id="ext.bit.design">Design</h1>
<p>The bit extensions abstract the smallest unit of information in C++ -- a bit -- in easy-to-use and highly flexible structures. This comes as proposals for bit manipulation have stacked up in the Standard C++ mailing archives but need both exploration and implementation to further them. In particular, these extensions focus on candidates likely for future standardization, including <a href="https://wg21.link/n2050">N2050 - Proposal to Add a Dynamically Sizeable Bitset to the Standard Library Technical Report</a> and the newer <a href="https://wg21.link/p0237r10">P0237 - fundamental bit manipulation utilities</a> .</p>
<p>The implementations provided here are not verbatim with either N2050's or P0237's work. While closely followed, a number of different design decisions were taken with the advent of <a href="http://eel.is/c++draft/ranges">C++20's new Range machinery</a> . Other operations were either added or removed to promote better safety in the type (e.g., removing arithmetic operations from <code>
                bit_pointer&lt;Iterator&gt;
            </code> to prevent crashes and overflow when the reference type does not have a contiguous store) or adding. Most notably, <code>dynamic_bitset</code> / <code>bit_sequence</code> is implemented as a container adaptor rather than a concrete type.</p>
<p>There are small, mostly private implementations of the functionality provided by these extensions already in libstdc++ in various forms: these abstractions will hopefully pave the way for them to not only be in the standard but also exhibit dependable performance characteristics without requiring more hand-crafted optimization to be applied to individual use cases and specific types.</p>
<h2 id="ext.bit.design.layers">Abstraction Layers</h2>
<p>There are 4 layers of functionality. Each layer provides increasingly more functionality, and depends on the last.</p>
<h3 id="ext.bit.design.layers.utilities">Abstraction Layer 0: bit_utilities</h3>
<p>A collection of fundamental utilites for properly and correctly working with the bits of integral and enumeration types. Includes <code>
                        __binary_digits&lt;IntegralOrEnumerationType&gt;
                    </code> helper type, <code>
                        __bit_value
                    </code> type as a "strong typedef" for a single bit, <code>
                        __bit_reference&lt;ReferenceType, MaskType&gt;
                    </code> which wraps a Reference and presents a single bit interface to it, <code>
                        __bit_iterator&lt;Iterator&gt;
                    </code> for enumering the individual bits of the <code>Iterator</code> 's <code>value_type</code> , and <code>
                        __bit_pointer&lt;Iterator&gt;
                    </code> as the pointer analogue of a single bit reference.</p>
<h3 id="ext.bit.design.layers.algorithms">Abstraction Layer 1: bit algorithims</h3>
<p>A collection of function template overloads which employ the bit utilities defined from before to provide optimized implementations of certain standard algorithms, including <code>std::find</code> , <code>std::equal</code> , <code>std::copy(_n)</code> , and more.</p>
<h3 id="ext.bit.design.layers.bit_view">Abstraction Layer 2: <code>
                        bit_view&lt;Range, Extents&gt;
                    </code></h3>
<p>A range adaptor which takes a range and provides an easy interface to iterate over its bits in very specific sections through use of its <code>Extents</code> . Includes <code>
                        __bit_view&lt;Range, Extents&gt;
                    </code> , <code>
                        __word_extents&lt;Range&gt;
                    </code> , <code>
                        __dynamic_extents
                    </code> , and <code>
                        __static_extents&lt;BeginBit, EndBit&gt;
                    </code> .</p>
<h3 id="ext.bit.design.layers.bit_sequence">Abstraction Layer 3: <code>
                        basic_bit_sequence&lt;Container&gt;
                    </code></h3>
<p>A container adaptor which takes a container and adapts its value_type to be a sequence of bits.</p>
<h1 id="ext.bit.bit_view">Bit Range - <code>
                bit_view&lt;Type, Extents&gt;
            </code></h1>
<h1 id="ext.bit_view.design">Overview</h1>
<p><code>
                bit_view&lt;Type, Extents&gt;
            </code> allows C++ code to view a series of bits as</p>
